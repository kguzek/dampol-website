<div class="full-background {{ regionService.popupVisible ? 'visible' : '' }}" (click)="regionService.closePopup()">
  <div class="popup" (click)="$event.stopPropagation()">
    <div class="header">
      <img src="assets/images/world.svg" alt="World" class="world" height="200" />
      <app-language-select></app-language-select>
    </div>
    <div style="text-align: center">
      <h1 class="title">
        {{ translationService.translations.region.selectRegion }}
      </h1>
      <small class="subtitle">
        {{ translationService.translations.region.subtitle }}
      </small>
    </div>
    @if (regionService.region != null) {
      <p class="selected-region">
        {{ translationService.translations.region.selectedRegion }}:
        <span class="selected region"
          ><span [class]="regionService.getIcon(regionService.region)"></span>
          {{ translationService.translations.region.regions[regionService.region] }}</span
        >
      </p>
    }
    <ul class="regions">
      @for (
        region of translationService.translations.region.regions | keyvalue: translationService.valueOrder;
        track region.key
      ) {
        <li class="region {{ regionService.region == region.key ? 'selected' : '' }}">
          <button (click)="regionService.setRegion(region.key)">
            <span [class]="regionService.getIcon(region.key)"></span> {{ region.value }}
          </button>
        </li>
      }
    </ul>
    <button class="btn close" [disabled]="regionService.region == null" (click)="regionService.closePopup()">
      {{ translationService.translations.ui.ok }}
    </button>
  </div>
</div>
